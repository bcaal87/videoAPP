<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/head', {pageTitle: "Reproductor"}); %>
  </head>
  <body>
    <!-- Navbar -->
    <%- include('../partials/header'); %>

    <!-- Contenido -->
    <div class="container mt-5">
      <h1 class="mb-4">Reproductor de Videos</h1>
      <div class="row">
        <div class="col-md-12">
          <video id="videoPlayer" class="video-js vjs-default-skin" controls preload="auto" width="100%">
            <!-- La lista de reproducción se construirá dinámicamente aquí -->
          </video>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <%- include('../partials/scripts', {scripts: [
      '<script src="https://cdn.jsdelivr.net/npm/video.js"></script>',
    ]}); %>

<!-- Script propios -->
<script type='text/javascript'>
  // Obtener la lista de reproducción de videos desde el servidor
  const videoSources = <%- JSON.stringify(videoSources).replace(/<%-/g, '<%-') %>;

  // Inicializar Video.js
  const player = videojs('videoPlayer', {});

  // Agregar las fuentes de video a la lista de reproducción
  player.playlist(videoSources);

  // Iniciar la reproducción del primer video
  player.playlist.autoadvance(0);
  player.playlist.currentItem(0);
</script>

</body>
</html>


